<!--
 * @Date: 2021-10-09 19:13:45
 * @Author: 浩
 * @LastEditors: 浩
 * @FilePath: \原生ajax\原生ajax（get）.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>原生ajax（get）</title>
</head>
<body>
    <script>
        var url = "https://cloud-music-api-sandy.vercel.app/top/playlist?limit=20"
        // 创建 XMLHttpRequest 实例化对象
        var xhr = new XMLHttpRequest();
        // 监听准备状态变化
        xhr.onreadystatechange = function() {
            // 请求前
            if(xhr.readyState <= 1) {
                console.log("请求前");
            }
            if(xhr.readyState === 4) {
               if(xhr.status === 200) {
                   var res = JSON.parse(xhr.responseText);
                   console.log(res);
               }else {
                   console.log("响应失败", xhr.status);
               }
            }
        }
        // 发起请求
        xhr.open("get", url, true);
        // 发送请求
        xhr.send(null);
    </script>
</body>
</html>