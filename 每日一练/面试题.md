## 8.11

1、说说你对【作用域链】的理解

【作用域链的作用】是保证**执行环境里**有权访问的变量和函数是有序的，作用域链的变量只能向上访问，变量访问到`window`对象即被终止，作用域链向下访问变量是不被允许的。

假设一种情景：

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**儿子可以用父亲的东西，父亲不能用儿子的东西**

​    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**孙子可以用爷爷的东西，爷爷不能用孙子的东西**

或者举个例子：`“回”字型的结构，外面的口字是一个作用域，里面的口字是一个作用域。那么内部的口字和外部的口字就构成作用域链。特征是：内部的作用域可以向外访问，但是外部的作用域不能向内访问。可以逐级向外层访问，直到访问到最外层的口字的作用域为止。最外层的作用域是window对象`。

2、new操作符具体干了什么呢?
   （1）创建一个空对象，并且 this 变量引用该对象，同时还继承了该函数的原型。
   （2）属性和方法被加入到 this 引用的对象中。
   （3）新创建的对象由 this 所引用，并且最后隐式的返回 this 。



## 8.12

1、Javascript垃圾回收方法?

> 标记清除（mark and sweep）

这是JavaScript最常见的垃圾回收方式，当变量进入执行环境的时候，比如函数中声明一个变量，垃圾回收器将其标记为“进入环境”，当变量离开环境的时候（函数执行结束）将其标记为“离开环境”。

垃圾回收器会在运行的时候**给存储在内存中的所有变量加上标记**，然后**去掉环境中的变量**以及**被环境中变量所引用的变量（闭包**），在这些完成之后仍存在标记的就是要删除的变量了。

> 引用计数(reference counting)

在`低版本IE中经常会出现内存泄露`，很多时候就是因为其采用引用计数方式进行垃圾回收。引用计数的策略是跟踪记录每个值被使用的次数，当声明了一个变量并将一个引用类型赋值给该变量的时候这个值的引用次数就加1，如果该变量的值变成了另外一个，则这个值的引用次数减1，当这个值的引用次数变为0的时候，说明没有变量在使用，这个值没法被访问了，因此可以将其占用的空间回收，这样垃圾回收器会在运行的时候清理掉引用次数为0的值占用的空间。

在IE中虽然`JavaScript`对象通过标记清除的方式进行垃圾回收，但BOM与DOM对象却是通过引用计数回收垃圾的， 也就是说只要涉及`BOM及DOM`就会出现`循环引用问题`。



2、null和undefined的区别？

`null`是一个表示”无”的**对象**，转为数值时为0；`undefined`是一个表示”无”的**原始值**，转为数值时为`NaN`。
当声明的变量还未被初始化时，变量的默认值为`undefined`。
`null`用来表示尚未存在的对象，常用来表示函数企图**返回一个不存在的对象**。
`undefined`表示”**缺少值**”，就是此处应该有一个值，但是还没有定义。典型用法是：
（1）变量被声明了，但没有赋值时，就等于undefined。
（2)   调用函数时，应该提供的参数没有提供，该参数等于undefined。
（3）对象没有赋值的属性，该属性的值为undefined。
（4）函数没有返回值时，默认返回undefined。

`null`表示”没有对象”，即该处不应该有值。典型用法是：
（1） 作为函数的参数，表示该函数的参数不是对象。
（2） 作为对象原型链的终点。